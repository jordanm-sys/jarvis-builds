# 2026-02-23 (Sunday night / Monday morning)

## Session: Dashboard audit & infrastructure overhaul

### What happened
- Jordan wanted a full audit of the Jarvis dashboard — every component, what it does, how I use it
- Identified several gaps in data freshness and consistency

### Changes made

**Options Flow Cron**
- Was created but never enabled (idle state). Enabled it and moved to 8:20 AM weekdays.
- Test run successful: 20 unusual contracts, NVDA dominating with $10M+ call premium

**Earnings Calendar**
- Built `refresh-earnings.js` + `fetch-earnings-dates.py` — pulls real dates from yfinance
- Found 4 previously missing earnings dates: TE (Mar 24), FCX (Apr 23), NBIS (Apr 29), IREN (May 13)
- Upgraded from weekly to daily cron (7:25 AM)
- Cron now also refreshes bull/bear cases for upcoming earnings via Perplexity
- Cron auto-cleans old briefings (>7d) and market insights (>5d)
- Fixed ETF notes (SOXX, FBTC) — static text instead of stale dynamic notes

**UI Fixes**
- Earnings status column: now shows "In Xd" for ALL tickers, not just ≤7 days
- Added `white-space:nowrap` to earnings badges to prevent text wrapping

**Summary Tab Overhaul**
- Replaced auto-generated technical signals with Jarvis-written daily analysis
- New API: GET/POST `/api/stocks/summary` backed by `summary.json`
- Format: sentiment + overall take + per-ticker picks (buy/hold/trim/sell/watch) with reasoning + key events
- New cron at 8:25 AM (Opus) writes the summary after all data crons finish
- Wrote first summary covering the Feb 24 earnings week

**Briefing Crons Cleanup**
- Removed earnings data updates from portfolio/watchlist briefing crons
- Earnings data now exclusively managed by the dedicated refresh script

**Task Watcher**
- New cron: every 2 min, Gemini (free), checks kanban backlog
- Replaces heartbeats for task pickup — much faster (2 min vs 30 min)
- Alerts via Telegram when new/instant tasks found

**Heartbeats Disabled**
- Removed heartbeat config — everything now handled by dedicated crons
- Server health → launchd, tasks → watcher cron, stocks → stock crons, memory → weekly cron

**Weekly Memory Maintenance**
- New cron: Sundays 9 AM, Gemini, reviews daily logs and updates MEMORY.md

### Jordan's preferences learned
- Hates stale data — everything must refresh daily
- Wants consistent formatting (not mixed styles)
- Wants MY personal recommendations, not technical data dumps
- Wants fast task pickup — 2 min max
- Cost-conscious — use cheap models for polling, expensive models for real work
